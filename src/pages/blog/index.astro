---
import Layout from "../../layouts/Layout.astro";
import BlogPage from "../../components/svelte/Page/BlogPage.svelte";

const posts = Object.values(
  import.meta.glob("./posts/md/*.md", { eager: true })
);

let compiledPost: any[] = [];

for (let elem in posts) {
  compiledPost.push({
    content: await posts[elem].compiledContent(),
    titre: posts[elem].frontmatter.title,
    date: posts[elem].frontmatter.date,
  });
}
---

<Layout>
  <BlogPage client:load posts={posts} content={compiledPost} />
</Layout>
